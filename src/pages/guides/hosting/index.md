---
layout: guides
order: 2
tocHeading: 2
---

<app-heading-box heading="Hosting">
  <p>This section of our Guides content will cover some of the hosting options you can use to deploy your Greenwood project. Below is a an overview of the general purpose deploy targets available out of the box with Greenwood, with additional vendor specific sections in the sidebar.</p>
</app-heading-box>

## Building

Generally you will want to setup build (**npm**) scripts for running Greenwood and other related tasks relevant to your project in your _package.json_. These can also be configured with the hosting provider of your choice for build time commands.

<!-- prettier-ignore-start -->
<app-ctc-block variant="snippet" heading="package.json">

  ```json
  {
    "type": "module",
    "scripts": {
      "dev": "greenwood develop",
      "build": "greenwood build",
      "serve": "greenwood serve"
    }
  }
  ```

</app-ctc-block>

<!-- prettier-ignore-end -->

By default when running `greenwood build`, all your build assets will be output into a directory called _public/_ and will include all your static HTML and assets (JS, CSS, images) as well as code needed for serving dynamic content (SSR pages, API routes).

```shell
# hybrid build output example
public/
  api/
    card.bb3e149d.js
    fragment.bb3e149d.js
    fragment.js
  styles
    home.1953429207.css
    theme.663924927.css
  favicon.ico
  index.html
  modal.edbd7922.js
  products.route.chunk.b012f9ed.js
  products.route.js
```

## Static Hosting

By default deploying a static site should not require anything other than making sure you are using the contents output to the build directory. As the name implies, static hosting does not support SSR pages (unless statically exported) or API routes, but read on to learn more about those options.

## Self Hosting

You can of course run your Greenwood application anywhere you can install NodeJS. The recommended way to do so is by following these steps:

1. Build your application with `greenwood build`
1. Upload / Copy the contents of the _public/_ directory onto your webserver / webroot
1. Run `npx @greenwood/cli serve` from your webroot
1. Forward traffic to the server running at `localhost:8080` (default port is `8080`)

## Serverless

For deploying SSR pages and API routes to serverless hosting providers, you can use (or create your own) adapter plugins like for Vercel or Netlify.

> You can see our [docs on adapter plugins](/docs/plugins/) to learn more about creating (or contributing!) your own.

## Docker

[Docker](https://www.docker.com/) is a widely supported developer tool for standardizing the deployment pipeline for applications. You can easily adapt the [baseline NodeJS Docker image](https://github.com/docker/docker-nodejs-sample) and fine-tune it for Greenwood with just a couple steps. We have [a demo repo](https://github.com/ProjectEvergreen/greenwood-demo-platform-docker) that you can clone or fork and customize to your needs.

![Greenwood running in Docker Desktop](/assets/guides/greenwood-docker-desktop.webp)

These steps are based on a Greenwood application generated by `@greenwood/init` and then having the `docker init` command run with these options.

```shell
? What application platform does your project use? Node (auto detected)
? What version of Node do you want to use? 18.20.2 (auto detected)
? Which package manager do you want to use? npm (auto detected)
? Do you want to run "npm run build" before starting your server? Yes (auto detected)
? What directory is your build output to? (comma-separate if multiple) public
? What command do you want to use to start the app? npm run serve
? What port does your server listen on? 8080
```

1. Add `**/.greenwood` to _.dockerignore_
1. If using npm, make sure to mount the _.npmrc_ file in both the **deps** _and_ **build** stages, e.g.

  <!-- prettier-ignore-start -->
  <app-ctc-block variant="snippet" heading="Dockerfile">

    ```Dockerfile
    RUN --mount=type=bind,source=package.json,target=package.json \
        --mount=type=bind,source=package-lock.json,target=package-lock.json \
        --mount=type=cache,target=/root/.npm \
        --mount=type=bind,source=.npmrc,target=.npmrc \
        npm ci --omit=dev
    ```

  </app-ctc-block>

  <!-- prettier-ignore-end -->

1. Install the `@greenwood/cli` in the **deps** stage, e.g.

  <!-- prettier-ignore-start -->
  <app-ctc-block variant="snippet" heading="Dockerfile">

    ```Dockerfile
    RUN npm i @greenwood/cli@latest
    ```

  </app-ctc-block>

  <!-- prettier-ignore-end -->

1. Copy the _.greenwood/_ directory into the container

  <!-- prettier-ignore-start -->
  <app-ctc-block variant="snippet" heading="Dockerfile">

    ```Dockerfile
    COPY --from=deps /usr/src/app/node_modules ./node_modules
    COPY --from=build /usr/src/app/public ./public
    COPY --from=build /usr/src/app/.greenwood ./.greenwood
    ```

  </app-ctc-block>

  <!-- prettier-ignore-end -->

1. Run the serve command

  <!-- prettier-ignore-start -->
  <app-ctc-block variant="snippet" heading="Dockerfile">

    ```Dockerfile
    CMD npm run serve
    ```

  </app-ctc-block>

  <!-- prettier-ignore-end -->

> Many self-hosting solutions support Docker, like our [demo repo](https://github.com/ProjectEvergreen/greenwood-demo-platform-fly) using [**Fly.io**](https://fly.io/).
